"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = testLogger;
const winston_1 = require("winston");
const log_levels_1 = __importDefault(require("../utils/log_levels"));
const colors_1 = require("../utils/colors");
function testLogger() {
    return (0, winston_1.createLogger)({
        levels: log_levels_1.default,
        transports: [
            new winston_1.transports.Console({
                level: "error",
                format: winston_1.format.combine(winston_1.format.timestamp({ format: "YYYY-MM-DD HH:mm:ss" }), winston_1.format.errors({ stack: true }), winston_1.format.printf(({ level, message, timestamp, meta }) => {
                    let rstr = `${(0, colors_1.getColorizedLevel)(level)} ${timestamp} - ${message}`;
                    if (meta && meta["responseTime"]) {
                        rstr += " - " + meta["responseTime"] + "ms";
                    }
                    return rstr;
                })),
            }),
        ],
    });
}
